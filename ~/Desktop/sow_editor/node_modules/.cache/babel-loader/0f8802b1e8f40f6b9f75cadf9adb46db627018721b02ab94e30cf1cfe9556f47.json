{"ast":null,"code":"export class EndpointCache {\n  constructor({\n    size,\n    params\n  }) {\n    this.data = new Map();\n    this.parameters = [];\n    this.capacity = size ?? 50;\n    if (params) {\n      this.parameters = params;\n    }\n  }\n  get(endpointParams, resolver) {\n    const key = this.hash(endpointParams);\n    if (key === false) {\n      return resolver();\n    }\n    if (!this.data.has(key)) {\n      if (this.data.size > this.capacity + 10) {\n        const keys = this.data.keys();\n        let i = 0;\n        while (true) {\n          const {\n            value,\n            done\n          } = keys.next();\n          this.data.delete(value);\n          if (done || ++i > 10) {\n            break;\n          }\n        }\n      }\n      this.data.set(key, resolver());\n    }\n    return this.data.get(key);\n  }\n  size() {\n    return this.data.size;\n  }\n  hash(endpointParams) {\n    let buffer = \"\";\n    const {\n      parameters\n    } = this;\n    if (parameters.length === 0) {\n      return false;\n    }\n    for (const param of parameters) {\n      const val = String(endpointParams[param] ?? \"\");\n      if (val.includes(\"|;\")) {\n        return false;\n      }\n      buffer += val + \"|;\";\n    }\n    return buffer;\n  }\n}","map":{"version":3,"names":["EndpointCache","constructor","size","params","data","Map","parameters","capacity","get","endpointParams","resolver","key","hash","has","keys","i","value","done","next","delete","set","buffer","length","param","val","String","includes"],"sources":["/Users/tuvyakhatter/Desktop/pipecat_voicebot/~/Desktop/sow_editor/node_modules/@smithy/util-endpoints/dist-es/cache/EndpointCache.js"],"sourcesContent":["export class EndpointCache {\n    constructor({ size, params }) {\n        this.data = new Map();\n        this.parameters = [];\n        this.capacity = size ?? 50;\n        if (params) {\n            this.parameters = params;\n        }\n    }\n    get(endpointParams, resolver) {\n        const key = this.hash(endpointParams);\n        if (key === false) {\n            return resolver();\n        }\n        if (!this.data.has(key)) {\n            if (this.data.size > this.capacity + 10) {\n                const keys = this.data.keys();\n                let i = 0;\n                while (true) {\n                    const { value, done } = keys.next();\n                    this.data.delete(value);\n                    if (done || ++i > 10) {\n                        break;\n                    }\n                }\n            }\n            this.data.set(key, resolver());\n        }\n        return this.data.get(key);\n    }\n    size() {\n        return this.data.size;\n    }\n    hash(endpointParams) {\n        let buffer = \"\";\n        const { parameters } = this;\n        if (parameters.length === 0) {\n            return false;\n        }\n        for (const param of parameters) {\n            const val = String(endpointParams[param] ?? \"\");\n            if (val.includes(\"|;\")) {\n                return false;\n            }\n            buffer += val + \"|;\";\n        }\n        return buffer;\n    }\n}\n"],"mappings":"AAAA,OAAO,MAAMA,aAAa,CAAC;EACvBC,WAAWA,CAAC;IAAEC,IAAI;IAAEC;EAAO,CAAC,EAAE;IAC1B,IAAI,CAACC,IAAI,GAAG,IAAIC,GAAG,CAAC,CAAC;IACrB,IAAI,CAACC,UAAU,GAAG,EAAE;IACpB,IAAI,CAACC,QAAQ,GAAGL,IAAI,IAAI,EAAE;IAC1B,IAAIC,MAAM,EAAE;MACR,IAAI,CAACG,UAAU,GAAGH,MAAM;IAC5B;EACJ;EACAK,GAAGA,CAACC,cAAc,EAAEC,QAAQ,EAAE;IAC1B,MAAMC,GAAG,GAAG,IAAI,CAACC,IAAI,CAACH,cAAc,CAAC;IACrC,IAAIE,GAAG,KAAK,KAAK,EAAE;MACf,OAAOD,QAAQ,CAAC,CAAC;IACrB;IACA,IAAI,CAAC,IAAI,CAACN,IAAI,CAACS,GAAG,CAACF,GAAG,CAAC,EAAE;MACrB,IAAI,IAAI,CAACP,IAAI,CAACF,IAAI,GAAG,IAAI,CAACK,QAAQ,GAAG,EAAE,EAAE;QACrC,MAAMO,IAAI,GAAG,IAAI,CAACV,IAAI,CAACU,IAAI,CAAC,CAAC;QAC7B,IAAIC,CAAC,GAAG,CAAC;QACT,OAAO,IAAI,EAAE;UACT,MAAM;YAAEC,KAAK;YAAEC;UAAK,CAAC,GAAGH,IAAI,CAACI,IAAI,CAAC,CAAC;UACnC,IAAI,CAACd,IAAI,CAACe,MAAM,CAACH,KAAK,CAAC;UACvB,IAAIC,IAAI,IAAI,EAAEF,CAAC,GAAG,EAAE,EAAE;YAClB;UACJ;QACJ;MACJ;MACA,IAAI,CAACX,IAAI,CAACgB,GAAG,CAACT,GAAG,EAAED,QAAQ,CAAC,CAAC,CAAC;IAClC;IACA,OAAO,IAAI,CAACN,IAAI,CAACI,GAAG,CAACG,GAAG,CAAC;EAC7B;EACAT,IAAIA,CAAA,EAAG;IACH,OAAO,IAAI,CAACE,IAAI,CAACF,IAAI;EACzB;EACAU,IAAIA,CAACH,cAAc,EAAE;IACjB,IAAIY,MAAM,GAAG,EAAE;IACf,MAAM;MAAEf;IAAW,CAAC,GAAG,IAAI;IAC3B,IAAIA,UAAU,CAACgB,MAAM,KAAK,CAAC,EAAE;MACzB,OAAO,KAAK;IAChB;IACA,KAAK,MAAMC,KAAK,IAAIjB,UAAU,EAAE;MAC5B,MAAMkB,GAAG,GAAGC,MAAM,CAAChB,cAAc,CAACc,KAAK,CAAC,IAAI,EAAE,CAAC;MAC/C,IAAIC,GAAG,CAACE,QAAQ,CAAC,IAAI,CAAC,EAAE;QACpB,OAAO,KAAK;MAChB;MACAL,MAAM,IAAIG,GAAG,GAAG,IAAI;IACxB;IACA,OAAOH,MAAM;EACjB;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}