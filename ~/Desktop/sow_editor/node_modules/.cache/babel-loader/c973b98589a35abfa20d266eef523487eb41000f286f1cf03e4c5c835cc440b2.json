{"ast":null,"code":"import { ALWAYS_UNSIGNABLE_HEADERS, PROXY_HEADER_PATTERN, SEC_HEADER_PATTERN } from \"./constants\";\nexport const getCanonicalHeaders = ({\n  headers\n}, unsignableHeaders, signableHeaders) => {\n  const canonical = {};\n  for (const headerName of Object.keys(headers).sort()) {\n    if (headers[headerName] == undefined) {\n      continue;\n    }\n    const canonicalHeaderName = headerName.toLowerCase();\n    if (canonicalHeaderName in ALWAYS_UNSIGNABLE_HEADERS || unsignableHeaders?.has(canonicalHeaderName) || PROXY_HEADER_PATTERN.test(canonicalHeaderName) || SEC_HEADER_PATTERN.test(canonicalHeaderName)) {\n      if (!signableHeaders || signableHeaders && !signableHeaders.has(canonicalHeaderName)) {\n        continue;\n      }\n    }\n    canonical[canonicalHeaderName] = headers[headerName].trim().replace(/\\s+/g, \" \");\n  }\n  return canonical;\n};","map":{"version":3,"names":["ALWAYS_UNSIGNABLE_HEADERS","PROXY_HEADER_PATTERN","SEC_HEADER_PATTERN","getCanonicalHeaders","headers","unsignableHeaders","signableHeaders","canonical","headerName","Object","keys","sort","undefined","canonicalHeaderName","toLowerCase","has","test","trim","replace"],"sources":["/Users/tuvyakhatter/Desktop/pipecat_voicebot/~/Desktop/sow_editor/node_modules/@smithy/signature-v4/dist-es/getCanonicalHeaders.js"],"sourcesContent":["import { ALWAYS_UNSIGNABLE_HEADERS, PROXY_HEADER_PATTERN, SEC_HEADER_PATTERN } from \"./constants\";\nexport const getCanonicalHeaders = ({ headers }, unsignableHeaders, signableHeaders) => {\n    const canonical = {};\n    for (const headerName of Object.keys(headers).sort()) {\n        if (headers[headerName] == undefined) {\n            continue;\n        }\n        const canonicalHeaderName = headerName.toLowerCase();\n        if (canonicalHeaderName in ALWAYS_UNSIGNABLE_HEADERS ||\n            unsignableHeaders?.has(canonicalHeaderName) ||\n            PROXY_HEADER_PATTERN.test(canonicalHeaderName) ||\n            SEC_HEADER_PATTERN.test(canonicalHeaderName)) {\n            if (!signableHeaders || (signableHeaders && !signableHeaders.has(canonicalHeaderName))) {\n                continue;\n            }\n        }\n        canonical[canonicalHeaderName] = headers[headerName].trim().replace(/\\s+/g, \" \");\n    }\n    return canonical;\n};\n"],"mappings":"AAAA,SAASA,yBAAyB,EAAEC,oBAAoB,EAAEC,kBAAkB,QAAQ,aAAa;AACjG,OAAO,MAAMC,mBAAmB,GAAGA,CAAC;EAAEC;AAAQ,CAAC,EAAEC,iBAAiB,EAAEC,eAAe,KAAK;EACpF,MAAMC,SAAS,GAAG,CAAC,CAAC;EACpB,KAAK,MAAMC,UAAU,IAAIC,MAAM,CAACC,IAAI,CAACN,OAAO,CAAC,CAACO,IAAI,CAAC,CAAC,EAAE;IAClD,IAAIP,OAAO,CAACI,UAAU,CAAC,IAAII,SAAS,EAAE;MAClC;IACJ;IACA,MAAMC,mBAAmB,GAAGL,UAAU,CAACM,WAAW,CAAC,CAAC;IACpD,IAAID,mBAAmB,IAAIb,yBAAyB,IAChDK,iBAAiB,EAAEU,GAAG,CAACF,mBAAmB,CAAC,IAC3CZ,oBAAoB,CAACe,IAAI,CAACH,mBAAmB,CAAC,IAC9CX,kBAAkB,CAACc,IAAI,CAACH,mBAAmB,CAAC,EAAE;MAC9C,IAAI,CAACP,eAAe,IAAKA,eAAe,IAAI,CAACA,eAAe,CAACS,GAAG,CAACF,mBAAmB,CAAE,EAAE;QACpF;MACJ;IACJ;IACAN,SAAS,CAACM,mBAAmB,CAAC,GAAGT,OAAO,CAACI,UAAU,CAAC,CAACS,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;EACpF;EACA,OAAOX,SAAS;AACpB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}