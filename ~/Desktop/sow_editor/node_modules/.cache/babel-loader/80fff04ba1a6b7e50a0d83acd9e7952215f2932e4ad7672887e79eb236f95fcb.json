{"ast":null,"code":"import { resolveAwsSdkSigV4Config } from \"@aws-sdk/core\";\nimport { doesIdentityRequireRefresh, isIdentityExpired, memoizeIdentityProvider } from \"@smithy/core\";\nimport { getSmithyContext, normalizeProvider } from \"@smithy/util-middleware\";\nexport const defaultBedrockRuntimeHttpAuthSchemeParametersProvider = async (config, context, input) => {\n  return {\n    operation: getSmithyContext(context).operation,\n    region: (await normalizeProvider(config.region)()) || (() => {\n      throw new Error(\"expected `region` to be configured for `aws.auth#sigv4`\");\n    })()\n  };\n};\nfunction createAwsAuthSigv4HttpAuthOption(authParameters) {\n  return {\n    schemeId: \"aws.auth#sigv4\",\n    signingProperties: {\n      name: \"bedrock\",\n      region: authParameters.region\n    },\n    propertiesExtractor: (config, context) => ({\n      signingProperties: {\n        config,\n        context\n      }\n    })\n  };\n}\nfunction createSmithyApiHttpBearerAuthHttpAuthOption(authParameters) {\n  return {\n    schemeId: \"smithy.api#httpBearerAuth\",\n    propertiesExtractor: ({\n      profile,\n      filepath,\n      configFilepath,\n      ignoreCache\n    }, context) => ({\n      identityProperties: {\n        profile,\n        filepath,\n        configFilepath,\n        ignoreCache\n      }\n    })\n  };\n}\nexport const defaultBedrockRuntimeHttpAuthSchemeProvider = authParameters => {\n  const options = [];\n  switch (authParameters.operation) {\n    default:\n      {\n        options.push(createAwsAuthSigv4HttpAuthOption(authParameters));\n        options.push(createSmithyApiHttpBearerAuthHttpAuthOption(authParameters));\n      }\n  }\n  return options;\n};\nexport const resolveHttpAuthSchemeConfig = config => {\n  const token = memoizeIdentityProvider(config.token, isIdentityExpired, doesIdentityRequireRefresh);\n  const config_0 = resolveAwsSdkSigV4Config(config);\n  return Object.assign(config_0, {\n    authSchemePreference: normalizeProvider(config.authSchemePreference ?? []),\n    token\n  });\n};","map":{"version":3,"names":["resolveAwsSdkSigV4Config","doesIdentityRequireRefresh","isIdentityExpired","memoizeIdentityProvider","getSmithyContext","normalizeProvider","defaultBedrockRuntimeHttpAuthSchemeParametersProvider","config","context","input","operation","region","Error","createAwsAuthSigv4HttpAuthOption","authParameters","schemeId","signingProperties","name","propertiesExtractor","createSmithyApiHttpBearerAuthHttpAuthOption","profile","filepath","configFilepath","ignoreCache","identityProperties","defaultBedrockRuntimeHttpAuthSchemeProvider","options","push","resolveHttpAuthSchemeConfig","token","config_0","Object","assign","authSchemePreference"],"sources":["/Users/tuvyakhatter/Desktop/pipecat_voicebot/~/Desktop/sow_editor/node_modules/@aws-sdk/client-bedrock-runtime/dist-es/auth/httpAuthSchemeProvider.js"],"sourcesContent":["import { resolveAwsSdkSigV4Config, } from \"@aws-sdk/core\";\nimport { doesIdentityRequireRefresh, isIdentityExpired, memoizeIdentityProvider } from \"@smithy/core\";\nimport { getSmithyContext, normalizeProvider } from \"@smithy/util-middleware\";\nexport const defaultBedrockRuntimeHttpAuthSchemeParametersProvider = async (config, context, input) => {\n    return {\n        operation: getSmithyContext(context).operation,\n        region: (await normalizeProvider(config.region)()) ||\n            (() => {\n                throw new Error(\"expected `region` to be configured for `aws.auth#sigv4`\");\n            })(),\n    };\n};\nfunction createAwsAuthSigv4HttpAuthOption(authParameters) {\n    return {\n        schemeId: \"aws.auth#sigv4\",\n        signingProperties: {\n            name: \"bedrock\",\n            region: authParameters.region,\n        },\n        propertiesExtractor: (config, context) => ({\n            signingProperties: {\n                config,\n                context,\n            },\n        }),\n    };\n}\nfunction createSmithyApiHttpBearerAuthHttpAuthOption(authParameters) {\n    return {\n        schemeId: \"smithy.api#httpBearerAuth\",\n        propertiesExtractor: ({ profile, filepath, configFilepath, ignoreCache }, context) => ({\n            identityProperties: {\n                profile,\n                filepath,\n                configFilepath,\n                ignoreCache,\n            },\n        }),\n    };\n}\nexport const defaultBedrockRuntimeHttpAuthSchemeProvider = (authParameters) => {\n    const options = [];\n    switch (authParameters.operation) {\n        default: {\n            options.push(createAwsAuthSigv4HttpAuthOption(authParameters));\n            options.push(createSmithyApiHttpBearerAuthHttpAuthOption(authParameters));\n        }\n    }\n    return options;\n};\nexport const resolveHttpAuthSchemeConfig = (config) => {\n    const token = memoizeIdentityProvider(config.token, isIdentityExpired, doesIdentityRequireRefresh);\n    const config_0 = resolveAwsSdkSigV4Config(config);\n    return Object.assign(config_0, {\n        authSchemePreference: normalizeProvider(config.authSchemePreference ?? []),\n        token,\n    });\n};\n"],"mappings":"AAAA,SAASA,wBAAwB,QAAS,eAAe;AACzD,SAASC,0BAA0B,EAAEC,iBAAiB,EAAEC,uBAAuB,QAAQ,cAAc;AACrG,SAASC,gBAAgB,EAAEC,iBAAiB,QAAQ,yBAAyB;AAC7E,OAAO,MAAMC,qDAAqD,GAAG,MAAAA,CAAOC,MAAM,EAAEC,OAAO,EAAEC,KAAK,KAAK;EACnG,OAAO;IACHC,SAAS,EAAEN,gBAAgB,CAACI,OAAO,CAAC,CAACE,SAAS;IAC9CC,MAAM,EAAE,CAAC,MAAMN,iBAAiB,CAACE,MAAM,CAACI,MAAM,CAAC,CAAC,CAAC,KAC7C,CAAC,MAAM;MACH,MAAM,IAAIC,KAAK,CAAC,yDAAyD,CAAC;IAC9E,CAAC,EAAE;EACX,CAAC;AACL,CAAC;AACD,SAASC,gCAAgCA,CAACC,cAAc,EAAE;EACtD,OAAO;IACHC,QAAQ,EAAE,gBAAgB;IAC1BC,iBAAiB,EAAE;MACfC,IAAI,EAAE,SAAS;MACfN,MAAM,EAAEG,cAAc,CAACH;IAC3B,CAAC;IACDO,mBAAmB,EAAEA,CAACX,MAAM,EAAEC,OAAO,MAAM;MACvCQ,iBAAiB,EAAE;QACfT,MAAM;QACNC;MACJ;IACJ,CAAC;EACL,CAAC;AACL;AACA,SAASW,2CAA2CA,CAACL,cAAc,EAAE;EACjE,OAAO;IACHC,QAAQ,EAAE,2BAA2B;IACrCG,mBAAmB,EAAEA,CAAC;MAAEE,OAAO;MAAEC,QAAQ;MAAEC,cAAc;MAAEC;IAAY,CAAC,EAAEf,OAAO,MAAM;MACnFgB,kBAAkB,EAAE;QAChBJ,OAAO;QACPC,QAAQ;QACRC,cAAc;QACdC;MACJ;IACJ,CAAC;EACL,CAAC;AACL;AACA,OAAO,MAAME,2CAA2C,GAAIX,cAAc,IAAK;EAC3E,MAAMY,OAAO,GAAG,EAAE;EAClB,QAAQZ,cAAc,CAACJ,SAAS;IAC5B;MAAS;QACLgB,OAAO,CAACC,IAAI,CAACd,gCAAgC,CAACC,cAAc,CAAC,CAAC;QAC9DY,OAAO,CAACC,IAAI,CAACR,2CAA2C,CAACL,cAAc,CAAC,CAAC;MAC7E;EACJ;EACA,OAAOY,OAAO;AAClB,CAAC;AACD,OAAO,MAAME,2BAA2B,GAAIrB,MAAM,IAAK;EACnD,MAAMsB,KAAK,GAAG1B,uBAAuB,CAACI,MAAM,CAACsB,KAAK,EAAE3B,iBAAiB,EAAED,0BAA0B,CAAC;EAClG,MAAM6B,QAAQ,GAAG9B,wBAAwB,CAACO,MAAM,CAAC;EACjD,OAAOwB,MAAM,CAACC,MAAM,CAACF,QAAQ,EAAE;IAC3BG,oBAAoB,EAAE5B,iBAAiB,CAACE,MAAM,CAAC0B,oBAAoB,IAAI,EAAE,CAAC;IAC1EJ;EACJ,CAAC,CAAC;AACN,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}